<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#2c2c2c" />
  <title>Mileage Tracker</title>

  <!-- PWA Setup -->
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/png" href="icon-192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="icon-512.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <!-- Styles -->
  <link rel="stylesheet" href="style.css" />

  <!-- Entry Point Script -->
  <script type="module" src="index.js" defer></script>
</head>
<body>
  <header>
    <h1>📍 Mileage Tracker</h1>
    <div id="tracking-status">Idle</div>
    <span id="debugBadge" class="badge">🛠 Debug ON</span>
  </header>

  <main>
    <!-- Trip Controls -->
    <section class="controls">
      <button id="startTrackingBtn">Start Trip</button>
      <button id="pauseTrackingBtn">Pause</button>
      <button id="resumeTrackingBtn">Resume</button>
      <button id="endTrackingBtn">End Trip</button>
    </section>

    <!-- Input Fields -->
    <section class="inputs">
      <input id="trip-purpose" type="text" placeholder="Purpose of trip" />
      <textarea id="trip-notes" placeholder="Notes (optional)"></textarea>
      <input id="rate" type="number" step="0.01" placeholder="Rate per mile ($)" />
    </section>

    <!-- Summary -->
    <section class="summary">
      <h3>Trip Summary</h3>
      <p>Purpose: <span id="summary-purpose">–</span></p>
      <p>Notes: <span id="summary-notes">–</span></p>
      <p>Start: <span id="summary-start">–</span></p>
      <p>End: <span id="summary-end">–</span></p>
      <p>Distance: <span id="summary-distance">–</span></p>
      <p>Duration: <span id="summary-duration">–</span></p>
      <p>Paused: <span id="pause-summary">–</span></p>
    </section>

    <!-- Export & History -->
    <section class="history">
      <h3>Trip Log</h3>
      <ul id="trip-log"></ul>
      <button id="downloadCSVBtn">📂 Export CSV</button>
      <button id="clearHistoryBtn">🧹 Clear History</button>
    </section>

    <!-- Directions Panel -->
    <section id="directions-panel"></section>

    <!-- Help & Debug -->
    <section class="tools">
      <button id="toggleHelpBtn">❓ Help</button>
      <button id="enableDebugBtn">👀 Enable Debug</button>
    </section>

    <section id="help-screen" style="display: none;">
      <p>This app helps you track your mileage, calculate reimbursement, and log trip history. Enter your trip purpose and notes, then hit "Start Trip" to begin.</p>
    </section>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>
  </main>
</body>
</html>
